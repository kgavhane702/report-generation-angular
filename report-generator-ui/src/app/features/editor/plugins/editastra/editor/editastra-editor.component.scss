.editastra-editor {
  width: 100%;
  display: block;
  background: transparent;
}

.editastra-editor__surface {
  width: 100%;
  // Do not force 100% height, otherwise vertical-align can't work (it would always fill the box).
  max-height: 100%;
  box-sizing: border-box;
  outline: none;
  /* Match rich text widget: no internal scrollbars; widget should grow instead. */
  overflow: hidden;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: anywhere;
  background: transparent;

  color: var(--slide-editor-color, var(--slide-foreground, #0f172a));

  // Subtle caret-friendly baseline blocks
  > div {
    min-height: 1em;
  }

  // Semantic heading typography (used by slide placeholders via formatBlock h1/h2/h3)
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
    padding: 0;
    font-family: var(--slide-title-font-family, inherit);
    font-weight: var(--slide-title-font-weight, 700);
    line-height: 1.2;
  }

  h1 {
    font-size: var(--slide-title-font-size, 32px);
  }

  h2 {
    font-size: clamp(20px, calc(var(--slide-title-font-size, 32px) * 0.78), 32px);
  }

  h3 {
    font-size: clamp(16px, calc(var(--slide-title-font-size, 32px) * 0.62), 24px);
  }

  h4 {
    font-size: clamp(14px, calc(var(--slide-title-font-size, 32px) * 0.5), 20px);
  }

  h5 {
    font-size: clamp(13px, calc(var(--slide-title-font-size, 32px) * 0.44), 18px);
  }

  h6 {
    font-size: clamp(12px, calc(var(--slide-title-font-size, 32px) * 0.38), 16px);
  }

  // List styling (match table editor behavior)
  ul,
  ol {
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
    list-style-position: inside !important;
  }

  ul {
    list-style-type: disc !important;
  }

  ul[style*="list-style-type: circle"] {
    list-style-type: circle !important;
  }

  ul[style*="list-style-type: square"] {
    list-style-type: square !important;
  }

  ol {
    list-style-type: decimal !important;
  }

  li {
    display: list-item !important;
    margin: 0 !important;
    padding: 0 !important;
    text-indent: 0 !important;
  }

  // Custom marker lists (arrow/chevron/dash/check)
  .custom-marker-list {
    list-style-type: none !important;

    li {
      display: block !important;

      &::before {
        display: inline;
        margin-right: 0.3em;
      }
    }
  }

  .custom-marker-arrow li::before {
    content: '➤';
  }

  .custom-marker-chevron li::before {
    content: '›';
  }

  .custom-marker-dash li::before {
    content: '–';
  }

  .custom-marker-check li::before {
    content: '✓';
  }
}

// Default "widget" density/typography.
.editastra-editor--widget .editastra-editor__surface {
  padding: 10px 12px;
  font-size: 14px;
  line-height: 1.35;
}

// Table-like density (used by table cells and by Editastra widget for consistent 24px minimum baseline).
.editastra-editor--table .editastra-editor__surface {
  min-height: 24px;
}

// NOTE:
// In table widget, the surface gets `editorClass="table-widget__cell-editor..."` which carries
// the authoritative sizing rules (incl. `--tw-auto-fit-scale` and container-query subcell logic).
// We must not override those here, otherwise fonts can "jump" between cells.
//
// For standalone Editastra widgets (which use variant="table" but do NOT have the table-widget classes),
// apply the compact padding + URL auto-fit scaling via `--ew-auto-fit-scale`.
// IMPORTANT: font-size / font-weight / text-align are INHERITED from the widget wrapper
// (set via [style.font-size], [style.font-weight], [style.text-align] bindings).
// We only set a fallback when the widget does not specify a size.
.editastra-editor--table .editastra-editor__surface:not(.table-widget__cell-editor):not(.table-widget__cell-editor--subcell) {
  padding:
    clamp(0px, calc(4px * var(--ew-auto-fit-scale, 1)), 4px)
    clamp(0px, calc(8px * var(--ew-auto-fit-scale, 1)), 8px);
  font-size: inherit;
  font-weight: inherit;
  text-align: inherit;
  line-height: clamp(1.0, calc(1.35 * var(--ew-auto-fit-scale, 1)), 1.35);
}

// Placeholder for empty contenteditable
.editastra-editor__surface:empty::before {
  content: attr(data-placeholder);
  color: var(--slide-placeholder-color, rgba(100, 116, 139, 0.85));
  pointer-events: none;
}

.editastra-editor--disabled {
  opacity: 0.75;
}


