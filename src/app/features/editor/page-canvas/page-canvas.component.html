<!-- Only render when we have an active subsection -->
<ng-container *ngIf="activeSubsectionId() as subsectionId">
  <div class="page-canvas__wrapper" [style.width]="wrapperWidth">
    <section
      class="page-canvas__viewport"
      [style.transform]="zoomTransform()"
      [style.transform-origin]="zoomOrigin"
    >
      <!-- 
        Uses reactive pageIds signal from EditorStateService.
        Automatically updates when subsection changes.
      -->
      <app-page
        *ngFor="let pageId of pageIds(); trackBy: trackByPageId"
        [pageId]="pageId"
        [pageSize]="pageSize()"
        [subsectionId]="subsectionId"
        [isActive]="editorState.activePageId() === pageId"
      ></app-page>
    </section>
  </div>
</ng-container>
