<div
  class="editor-shell"
  [style.--editor-toolbar-height.px]="64"
  [style.--editor-widget-toolbar-height.px]="showWidgetToolbar() ? 52 : 0"
>
  <div class="editor-shell__export-overlay" *ngIf="showExportOverlay()">
    <div class="editor-shell__export-card" role="status" aria-live="polite">
      <div class="editor-shell__spinner" aria-hidden="true"></div>
      <div class="editor-shell__export-text">
        <div class="editor-shell__export-title">{{ exportUi.message() || 'Exportingâ€¦' }}</div>
        <div class="editor-shell__export-subtitle">Please wait. Do not click or switch sections while export is running.</div>
      </div>
    </div>
  </div>

  <header class="editor-shell__toolbar">
    <app-editor-toolbar></app-editor-toolbar>
  </header>

  <div class="editor-shell__widget-toolbar" *ngIf="showWidgetToolbar()">
    <app-widget-toolbar></app-widget-toolbar>
  </div>
  
  <div class="editor-shell__body" #scrollBody>
    <aside class="editor-shell__sidebar">
      <app-editor-breadcrumb></app-editor-breadcrumb>
      <app-page-outline></app-page-outline>
    </aside>

    <main class="editor-shell__canvas">
      <app-page-canvas></app-page-canvas>

      <!-- Pinned PPT-style slide navigator (not affected by zoom) -->
      <div class="editor-shell__canvas-navigator" *ngIf="pageIds().length > 1">
        <app-slide-navigator
          [totalPages]="pageIds().length"
          [currentIndex]="currentPageIndex()"
          [scrollTop]="scrollTop()"
          [scrollHeight]="scrollHeight()"
          [clientHeight]="clientHeight()"
          (pageChange)="onCanvasPageChange($event)"
          (scrollTo)="onNavigatorScrollTo($event)"
          (scrollBy)="onNavigatorScrollBy($event)"
        ></app-slide-navigator>
      </div>
    </main>
  </div>
</div>

